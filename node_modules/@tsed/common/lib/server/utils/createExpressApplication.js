"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const Express = require("express");
const mvc_1 = require("../../mvc");
function createExpressApplication(injector) {
    const expressApp = Express();
    const originalUse = expressApp.use;
    expressApp.use = function (...args) {
        args = args.map(arg => {
            if (injector.has(arg)) {
                arg = mvc_1.HandlerBuilder.from(arg).build(injector);
            }
            return arg;
        });
        return originalUse.call(this, ...args);
    };
    injector.forkProvider(mvc_1.ExpressApplication, expressApp);
    return expressApp;
}
exports.createExpressApplication = createExpressApplication;

//# sourceMappingURL=createExpressApplication.js.map
