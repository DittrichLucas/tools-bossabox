{"version":3,"sources":["server/utils/createExpressApplication.ts"],"names":[],"mappings":"AAEA,OAAO,EAAC,eAAe,EAAC,MAAM,cAAc,CAAC;AAE7C,wBAAgB,wBAAwB,CAAC,QAAQ,EAAE,eAAe,+CAmBjE","file":"createExpressApplication.d.ts","sourcesContent":["import * as Express from \"express\";\nimport {ExpressApplication, HandlerBuilder} from \"../../mvc\";\nimport {InjectorService} from \"@tsed/common\";\n\nexport function createExpressApplication(injector: InjectorService) {\n  const expressApp = Express();\n  const originalUse = expressApp.use;\n\n  expressApp.use = function(...args: any[]) {\n    args = args.map(arg => {\n      if (injector.has(arg)) {\n        arg = HandlerBuilder.from(arg).build(injector);\n      }\n\n      return arg;\n    });\n\n    return originalUse.call(this, ...args);\n  };\n\n  injector.forkProvider(ExpressApplication, expressApp);\n\n  return expressApp;\n}\n"],"sourceRoot":"../../../src"}